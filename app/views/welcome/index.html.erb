<section id="sidebar" ng-controller="contactsController">
    <header>
        <div>
            <h1>Contacts</h1>
            <a class="add" href="#" ng-click="form=!form" ng-class="{'close-form': form, 'open-form': !form}">+</a>
        </div>
        <div id="search">
            <input type="text" ng-model='query'  placeholder="Search...ðŸ”Ž">
        </div>
    </header>

    <!-- Contact Display -->
    <section id="contacts">

        <!-- Contact List -->
        <article class="contact" ng-repeat="contact in contacts | filter: search | orderBy: 'lastname'">
            <div class="photo">
                <div class="img-container">
                    <img ng-src="{{contact.img}}" alt="{{ contact.firstname }} {{ contact.lastname }}'s' Profile Picture">
                </div>
                <div class="{{contact.status}}"></div>
            </div>
            <div class="info">
                <h2>{{ contact.firstname }} {{ contact.lastname }}</h2>
                <div>{{ contact.username }} | {{ contact.phone }}</div>
            </div>
            <a class="more-btn" ng-click="oneContact(contact.id)">more</button>
        </article>

        <!-- New Contact Form -->
        <div id="new-contact-form" class="form-off" ng-class="{'form-on': form, 'form-off': !form}">
            <form ng-submit="addContact()">
                <input type="text" ng-model="newContact.firstname" placeholder="First Name">
                <input type="text" ng-model="newContact.lastname" placeholder="Last Name">
                <input type="text" ng-model="newContact.email" placeholder="Email">
                <input type="text" ng-model="newContact.username" placeholder="Username">
                <input type="text" ng-model="newContact.img" placeholder="Image">
                <input type="text" ng-model="newContact.company" placeholder="Company">
                <input type="text" ng-model="newContact.phone" placeholder="Phone">
                <input type="submit" value="Add">
            </form>
        </div>

    </section>

    <article class="contact-card" ng-show="contactDetail">
        <div class="content">
            <div id="close" ng-click="contactDetail=null">X</div>
            <div class="photo">
                <div class="img-container">
                    <img ng-src="{{contactDetail.img}}" alt="{{ contactDetail.firstname }} {{ contactDetail.lastname }}'s' Profile Picture">
                </div>
                <div class="{{contactDetail.status}}"></div>
            </div>

            <div class="info">
                {{ contactDetail.firstname }} {{ contactDetail.lastname }}, ({{ contactDetail.username }})<br>
                {{ contactDetail.company }}<br>
                {{ contactDetail.phone }}<br>
                {{ contactDetail.email }}
            </div>
            <div ng-click="editForm=true">
                Edit
            </div>
            <div ng-click="removeContact(contactDetail.id)">
                Delete
            </div>
            <div id="edit-contact-form" ng-if="editForm">
                <form ng-submit="updateContact(contactDetail.id)">
                    <input type="text" ng-model="contactDetail.firstname" placeholder="First Name">
                    <input type="text" ng-model="contactDetail.lastname" placeholder="Last Name">
                    <input type="text" ng-model="contactDetail.email" placeholder="Email">
                    <input type="text" ng-model="contactDetail.username" placeholder="Username">
                    <input type="text" ng-model="contactDetail.img" placeholder="Image">
                    <input type="text" ng-model="contactDetail.company" placeholder="Company">
                    <input type="text" ng-model="contactDetail.phone" placeholder="Phone">
                    <button type="submit">Add</button>
                </form>
            </div>
        </div>
    </article>

</section>
